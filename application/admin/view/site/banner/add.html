<style type="text/css">
    .plupload-preview a img {
        height: auto;
    }
    .plupload-preview a:first-child {
        height: auto;
    }
    .plupload-preview li {
        width: 100%;
    }
</style>
<div class="panel panel-default panel-intro">
    {:build_heading()}

    <div class="panel-body">
        <form id="add-form" class="form-horizontal" role="form" data-toggle="validator" method="POST" action="">

            <div class="col-xs-12 col-sm-4 no-padding ">
                <div class="box box-widget">
                    <div class="box-header with-border">
                        <div class="box-title">
                            <span>Banner Setting</span>
                        </div>
                    </div>
                    <div class="box-body">
                        <div class="form-group">
                            <label class="control-label col-xs-12 col-sm-3">{:__('Name')}:</label>
                            <div class="col-xs-12 col-sm-9">
                                <input id="c-name" data-rule="required" class="form-control" name="row[name]" type="text">
                            </div>
                        </div>
                        <div class="form-group">
                            <label class="control-label col-xs-12 col-sm-3">{:__('Language')}:</label>
                            <div class="col-xs-12 col-sm-9">
                                <select id="c-language" data-rule="required" class="form-control selectpicker" name="row[images][language]" type="text">
                                    {foreach name="site.multi_lang" item="vo"}
                                    {eq name="key" value=":getDefaultLanguage()"}
                                    <option value="{$key}" selected>{$vo}</option>
                                    {/eq}
                                    {/foreach}
                                </select>
                            </div>
                        </div>
                        <div class="form-group">
                            <label class="control-label col-xs-12 col-sm-3">{:__('Width')}:</label>
                            <div class="col-xs-12 col-sm-9">

                                <select  id="c-width" data-rule="required" class="form-control selectpicker" name="row[width]">
                                    {foreach name="widthList" item="vo"}
                                        <option value="{$key}" {in name="key" value=""}selected{/in}>{$vo}</option>
                                    {/foreach}
                                </select>

                            </div>
                        </div>
                        <div class="form-group">
                            <label class="control-label col-xs-12 col-sm-3">{:__('Height')}:</label>
                            <div class="col-xs-12 col-sm-9">
                                <input id="c-height" data-rule="required" class="form-control" name="row[height]" type="text">
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="col-xs-12 col-sm-7 col-sm-offset-1 no-padding">
                <div class="box box-widget">
                    <div class="box-body">
                        <button id="addImage" type="button" class="btn btn-success">{:__('Add')}</button>
                    </div>
                </div>
                <div class="box box-widget">
                    <div class="box-header with-border">
                        <div class="box-title">
                            <span>{:__('Image 1')}</span>
                        </div>
                        <div class="box-tools">
                            <button type="button" class="btn btn-box-tool" data-widget="collapse"><i class="fa fa-minus"></i></button>
                        </div>
                    </div>
                    <div class="box-body">
                        <div class="form-group">
                            <div class="col-xs-12">
                                <div class="input-group">
                                    <input id="c-images-0-url" data-rule="required"  class="form-control" size="50" name="row[images][0][url]" type="text" value="" placeholder="{:__('Image')}" readonly>
                                    <div class="input-group-addon no-border no-padding">
                                        <span><button type="button" id="plupload-image-0" class="btn btn-danger plupload" data-input-id="c-images-0-url" data-mimetype="image/gif,image/jpeg,image/png,image/jpg,image/bmp" data-multiple="false" data-preview-id="p-image-0"><i class="fa fa-upload"></i> {:__('Upload')}</button></span>
                                        <span><button type="button" id="fachoose-image-0" class="btn btn-primary fachoose" data-input-id="c-images-0-url" data-mimetype="image/*" data-multiple="false"><i class="fa fa-list"></i> {:__('Choose')}</button></span>
                                    </div>
                                    <span class="msg-box n-right" for="c-images-0-url"></span>
                                </div>
                                <ul class="row list-inline plupload-preview" id="p-image-0"></ul>
                            </div>
                        </div>
                        <div class="form-group">
                            <label class="control-label col-xs-12 col-sm-2">{:__('Title')}:</label>
                            <div class="col-xs-12 col-sm-10">
                                <input id="c-images-0-title" class="form-control" name="row[images][0][title]" type="text" value="">
                            </div>
                        </div>
                        <div class="form-group">
                            <label class="control-label col-xs-12 col-sm-2">{:__('Tagline')}:</label>
                            <div class="col-xs-12 col-sm-10">
                                <input id="c-images-0-tagline" class="form-control" name="row[images][0][tagline]" type="text" value="">
                            </div>
                        </div>
                        <div class="form-group">
                            <label class="control-label col-xs-12 col-sm-2">{:__('Alt')}:</label>
                            <div class="col-xs-12 col-sm-10">
                                <input id="c-images-0-alt" class="form-control" name="row[images][0][alt]" type="text" value="">
                            </div>
                        </div>
                        <div class="form-group">
                            <label class="control-label col-xs-12 col-sm-2">{:__('Weigh')}:</label>
                            <div class="col-xs-12 col-sm-10">
                                <input id="c-images-0-weigh" class="form-control" name="row[images][0][weigh]" type="text" value="1">
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="form-group layer-footer">
                <label class="control-label col-xs-12 col-sm-2"></label>
                <div class="col-xs-12">
                    <button type="submit" class="btn btn-success btn-embossed disabled">{:__('OK')}</button>
                    <button type="reset" class="btn btn-default btn-embossed">{:__('Reset')}</button>
                </div>
            </div>
        </form>
    </div>
</div>
<script type="text/html" id="image_template">
    <div class="box box-widget">
        <div class="box-header with-border">
            <div class="box-title">
                <span>{:__('Image')} <%=num%></span>
            </div>
            <div class="box-tools">
                <button type="button" class="btn btn-box-tool" data-widget="collapse"><i class="fa fa-minus"></i></button>
            </div>
        </div>
        <div class="box-body">
            <div class="form-group">
                <div class="col-xs-12">
                    <div class="input-group">
                        <input id="c-images-<%=index%>-url" class="form-control" size="50" name="row[images][<%=index%>][url]" type="text" value="" placeholder="{:__('Image')}" readonly>
                        <div class="input-group-addon no-border no-padding">
                            <span><button type="button" id="plupload-image-<%=index%>" class="btn btn-danger plupload" data-input-id="c-images-<%=index%>-url" data-mimetype="image/gif,image/jpeg,image/png,image/jpg,image/bmp" data-multiple="false" data-preview-id="p-image-<%=index%>"><i class="fa fa-upload"></i> {:__('Upload')}</button></span>
                            <span><button type="button" id="fachoose-image-<%=index%>" class="btn btn-primary fachoose" data-input-id="c-images-<%=index%>-url" data-mimetype="image/*" data-multiple="false"><i class="fa fa-list"></i> {:__('Choose')}</button></span>
                        </div>
                        <span class="msg-box n-right" for="c-images-<%=index%>-url"></span>
                    </div>
                    <ul class="row list-inline plupload-preview" id="p-image-<%=index%>"></ul>
                </div>
            </div>
            <div class="form-group">
                <label class="control-label col-xs-12 col-sm-2">{:__('Title')}:</label>
                <div class="col-xs-12 col-sm-10">
                    <input id="c-images-<%=index%>-title" class="form-control" name="row[images][<%=index%>][title]" type="text" value="">
                </div>
            </div>
            <div class="form-group">
                <label class="control-label col-xs-12 col-sm-2">{:__('Tagline')}:</label>
                <div class="col-xs-12 col-sm-10">
                    <input id="c-images-{$key}-tagline" class="form-control" name="row[images][{$key}][tagline]" type="text">
                </div>
            </div>
            <div class="form-group">
                <label class="control-label col-xs-12 col-sm-2">{:__('Alt')}:</label>
                <div class="col-xs-12 col-sm-10">
                    <input id="c-images-<%=index%>-alt" class="form-control" name="row[images][<%=index%>][alt]" type="text" value="">
                </div>
            </div>
            <div class="form-group">
                <label class="control-label col-xs-12 col-sm-2">{:__('Weigh')}:</label>
                <div class="col-xs-12 col-sm-10">
                    <input id="c-images-<%=index%>-weigh" class="form-control" name="row[images][<%=index%>][weigh]" type="number" min="0" step="1" value="<%=num%>">
                </div>
            </div>
        </div>
    </div>
</script>